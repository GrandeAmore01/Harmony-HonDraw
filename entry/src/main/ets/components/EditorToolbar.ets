import { ToolType, ToolbarItem } from '../model/ToolbarItem'

// ç¼–è¾‘å™¨å·¥å…·æ ç»„ä»¶
@Component
export struct EditorToolbar {
  @Link selectedTool: ToolType
  onToolSelected?: (tool: ToolType) => void

  private tools: ToolbarItem[] = [
    new ToolbarItem(ToolType.PEN, 'âœï¸', 'ç”»ç¬”'),
    new ToolbarItem(ToolType.ERASER, 'ðŸ§¹', 'æ©¡çš®'),
    new ToolbarItem(ToolType.LINE, 'ðŸ“', 'ç›´çº¿'),
    new ToolbarItem(ToolType.RECT, 'â–¢', 'çŸ©å½¢'),
    new ToolbarItem(ToolType.CIRCLE, 'â—‹', 'åœ†å½¢'),
    new ToolbarItem(ToolType.ELLIPSE, 'â¬­', 'æ¤­åœ†'),
    new ToolbarItem(ToolType.TEXT, 'ð“', 'æ–‡å­—'),
    new ToolbarItem(ToolType.CROP, 'âœ‚ï¸', 'è£å‰ª'),
    new ToolbarItem(ToolType.ROTATE, 'â†»', 'æ—‹è½¬'),
    new ToolbarItem(ToolType.BRIGHTNESS, 'â˜€ï¸', 'äº®åº¦'),
    new ToolbarItem(ToolType.WATERMARK, 'ðŸ·ï¸', 'æ°´å°')
  ]

  build() {
    Row() {
      List({ space: 12 }) {
        ForEach(this.tools, (tool: ToolbarItem) => {
          ListItem() {
            Column({ space: 4 }) {
              Text(tool.icon)
                .fontSize(24)

              Text(tool.label)
                .fontSize(10)
                .fontColor(this.selectedTool === tool.type ? '#007DFF' : '#666666')
            }
            .width(60)
            .height(60)
            .justifyContent(FlexAlign.Center)
            .backgroundColor(this.selectedTool === tool.type ? '#E6F2FF' : '#FFFFFF')
            .borderRadius(8)
            .border({
              width: this.selectedTool === tool.type ? 2 : 1,
              color: this.selectedTool === tool.type ? '#007DFF' : '#E5E5E5'
            })
            .onClick(() => {
              this.selectedTool = tool.type
              if (this.onToolSelected) {
                this.onToolSelected(tool.type)
              }
            })
          }
        })
      }
      .listDirection(Axis.Horizontal)
      .scrollBar(BarState.Off)
      .width('100%')
      .height(80)
      .padding({ left: 8, right: 8 })
    }
    .width('100%')
    .height(80)
    .backgroundColor('#FAFAFA')
    .shadow({
      radius: 8,
      color: '#10000000',
      offsetY: -2
    })
  }
}

